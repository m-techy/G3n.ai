{
    "sourceFile": "src/components/TTM.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1708683060411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1708683547908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,9 @@\n-\r\n import React, { useState } from \"react\";\r\n import axios from \"axios\";\r\n import { Link } from \"react-router-dom\";\r\n import { end_point_music } from \"../constants/url\";\r\n-import logoimg from \"../assets/logoimage.png\"\r\n+import logoimg from \"../assets/logoimage.png\";\r\n import Loader from \"./Loader\";\r\n \r\n const TTM = () => {\r\n   const [audioSrc, setAudioSrc] = useState(null);\r\n@@ -20,9 +19,9 @@\n     setLoading(true); // Set loading to true before making the API call\r\n     setButtonDisabled(true); // Disable the button\r\n     try {\r\n       const response = await axios.post(`${end_point_music}/generate_audio/`, {\r\n-        inputs: inputText\r\n+        inputs: inputText,\r\n       });\r\n       const audioBase64 = response.data.audio_base64;\r\n       const audioBlob = base64toBlob(audioBase64);\r\n       const audioUrl = URL.createObjectURL(audioBlob);\r\n@@ -52,42 +51,55 @@\n       const byteArray = new Uint8Array(byteNumbers);\r\n       byteArrays.push(byteArray);\r\n     }\r\n \r\n-    return new Blob(byteArrays, { type: 'audio/mpeg' });\r\n+    return new Blob(byteArrays, { type: \"audio/mpeg\" });\r\n   };\r\n \r\n   return (\r\n     <div className=\"bg-black h-screen w-full flex flex-col gap-10 py-4 px-[5%]\">\r\n-      <div className=\"icon text-blue-50 text-4xl hover:text-sky-400\">\r\n-        <Link to='/products'>\r\n-          <i className='bx bx-arrow-back'></i>\r\n-        </Link>\r\n-      </div>\r\n       <article className=\"flex flex-col text-white gap-8\">\r\n-        <div className=\"heading\">\r\n-          <div className=\"text-center text-4xl font-bold bg-gradient-to-r from-blue-500 to-sky-200  bg-clip-text text-transparent\">\r\n-            Text To Music Synthesis\r\n+        <div className=\"flex justify-between pt-10\">\r\n+          <div className=\"icon text-blue-50 text-4xl hover:text-sky-400\">\r\n+            <Link to=\"/products\">\r\n+              <i className=\"bx bx-arrow-back\"></i>\r\n+            </Link>\r\n           </div>\r\n+          <div className=\"heading\">\r\n+            <div className=\"text-center text-4xl font-bold bg-gradient-to-r from-blue-500 to-sky-200  bg-clip-text text-transparent\">\r\n+              Text To Music Synthesis\r\n+            </div>\r\n+          </div>\r\n+          <div className=\"invisible\">dd</div>\r\n         </div>\r\n         <div className=\"h-[10vh] flex flex-col px-2 w-[70%] mx-auto bg-gray-200 rounded-3xl\">\r\n           <div className=\"search-box w-full h-full\">\r\n             <div className=\"flex flex-row h-full w-full\">\r\n-              <span\r\n-                className=\"flex h-full items-center rounded rounded-r-none border-0 px-3 pt-1 font-bold text-grey-100 w-[10%]\">\r\n+              <span className=\"flex h-full items-center rounded rounded-r-none border-0 px-3 pt-1 font-bold text-grey-100 w-[10%]\">\r\n                 <img src={logoimg} className=\"h-[90%]\" alt=\"logo\" />\r\n               </span>\r\n               <input\r\n                 className=\"h-full text-grey-darker py-2 font-semibold text-grey-darkest border border-gray-200 px-2 outline-none text-lg text-gray-600 w-[70%] bg-gray-200\"\r\n-                type=\"text\" placeholder=\"What do you want to learn?\"\r\n+                type=\"text\"\r\n+                placeholder=\"What do you want to learn?\"\r\n                 value={inputText}\r\n                 onChange={handleChange}\r\n               />\r\n-              <span\r\n-                className=\"flex items-center rounded rounded-l-none border-0 px-3 font-bold text-grey-100 w-[20%]\">\r\n-\r\n-                <button className=\"generate-btn\" onClick={() => handleClick()} disabled={buttonDisabled}>\r\n-                  <svg height=\"24\" width=\"24\" fill=\"#FFFFFF\" viewBox=\"0 0 24 24\" data-name=\"Layer 1\" id=\"Layer_1\" className=\"sparkle\">\r\n+              <span className=\"flex items-center rounded rounded-l-none border-0 px-3 font-bold text-grey-100 w-[20%]\">\r\n+                <button\r\n+                  className=\"generate-btn\"\r\n+                  onClick={() => handleClick()}\r\n+                  disabled={buttonDisabled}\r\n+                >\r\n+                  <svg\r\n+                    height=\"24\"\r\n+                    width=\"24\"\r\n+                    fill=\"#FFFFFF\"\r\n+                    viewBox=\"0 0 24 24\"\r\n+                    data-name=\"Layer 1\"\r\n+                    id=\"Layer_1\"\r\n+                    className=\"sparkle\"\r\n+                  >\r\n                     <path d=\"M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z\"></path>\r\n                   </svg>\r\n \r\n                   <span className=\"generate-text\">Generate</span>\r\n@@ -105,18 +117,14 @@\n           </div>\r\n         ) : (\r\n           audioSrc && (\r\n             <div className=\"flex items-center justify-center w-[100%] py-8\">\r\n-              <audio\r\n-                className=\"w-[40%]\"\r\n-                controls src={audioSrc} />\r\n+              <audio className=\"w-[40%]\" controls src={audioSrc} />\r\n             </div>\r\n           )\r\n         )}\r\n       </article>\r\n     </div>\r\n-\r\n   );\r\n };\r\n \r\n export default TTM;\r\n-\r\n"
                }
            ],
            "date": 1708683060411,
            "name": "Commit-0",
            "content": "\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { end_point_music } from \"../constants/url\";\r\nimport logoimg from \"../assets/logoimage.png\"\r\nimport Loader from \"./Loader\";\r\n\r\nconst TTM = () => {\r\n  const [audioSrc, setAudioSrc] = useState(null);\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const [loading, setLoading] = useState(false); // Add loading state\r\n  const [buttonDisabled, setButtonDisabled] = useState(false); // Add button disabled state\r\n\r\n  const handleChange = (e) => {\r\n    setInputText(e.target.value);\r\n  };\r\n\r\n  const handleClick = async () => {\r\n    setLoading(true); // Set loading to true before making the API call\r\n    setButtonDisabled(true); // Disable the button\r\n    try {\r\n      const response = await axios.post(`${end_point_music}/generate_audio/`, {\r\n        inputs: inputText\r\n      });\r\n      const audioBase64 = response.data.audio_base64;\r\n      const audioBlob = base64toBlob(audioBase64);\r\n      const audioUrl = URL.createObjectURL(audioBlob);\r\n      setAudioSrc(audioUrl);\r\n    } catch (error) {\r\n      console.error(\"Error fetching audio:\", error);\r\n    } finally {\r\n      setLoading(false); // Set loading to false once response is received\r\n      setButtonDisabled(false); // Enable the button\r\n    }\r\n  };\r\n\r\n  // Function to convert base64 to Blob\r\n  const base64toBlob = (base64Data) => {\r\n    const sliceSize = 1024;\r\n    const byteCharacters = atob(base64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n      const byteNumbers = new Array(slice.length);\r\n      for (let i = 0; i < slice.length; i++) {\r\n        byteNumbers[i] = slice.charCodeAt(i);\r\n      }\r\n\r\n      const byteArray = new Uint8Array(byteNumbers);\r\n      byteArrays.push(byteArray);\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: 'audio/mpeg' });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-black h-screen w-full flex flex-col gap-10 py-4 px-[5%]\">\r\n      <div className=\"icon text-blue-50 text-4xl hover:text-sky-400\">\r\n        <Link to='/products'>\r\n          <i className='bx bx-arrow-back'></i>\r\n        </Link>\r\n      </div>\r\n      <article className=\"flex flex-col text-white gap-8\">\r\n        <div className=\"heading\">\r\n          <div className=\"text-center text-4xl font-bold bg-gradient-to-r from-blue-500 to-sky-200  bg-clip-text text-transparent\">\r\n            Text To Music Synthesis\r\n          </div>\r\n        </div>\r\n        <div className=\"h-[10vh] flex flex-col px-2 w-[70%] mx-auto bg-gray-200 rounded-3xl\">\r\n          <div className=\"search-box w-full h-full\">\r\n            <div className=\"flex flex-row h-full w-full\">\r\n              <span\r\n                className=\"flex h-full items-center rounded rounded-r-none border-0 px-3 pt-1 font-bold text-grey-100 w-[10%]\">\r\n                <img src={logoimg} className=\"h-[90%]\" alt=\"logo\" />\r\n              </span>\r\n              <input\r\n                className=\"h-full text-grey-darker py-2 font-semibold text-grey-darkest border border-gray-200 px-2 outline-none text-lg text-gray-600 w-[70%] bg-gray-200\"\r\n                type=\"text\" placeholder=\"What do you want to learn?\"\r\n                value={inputText}\r\n                onChange={handleChange}\r\n              />\r\n              <span\r\n                className=\"flex items-center rounded rounded-l-none border-0 px-3 font-bold text-grey-100 w-[20%]\">\r\n\r\n                <button className=\"generate-btn\" onClick={() => handleClick()} disabled={buttonDisabled}>\r\n                  <svg height=\"24\" width=\"24\" fill=\"#FFFFFF\" viewBox=\"0 0 24 24\" data-name=\"Layer 1\" id=\"Layer_1\" className=\"sparkle\">\r\n                    <path d=\"M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z\"></path>\r\n                  </svg>\r\n\r\n                  <span className=\"generate-text\">Generate</span>\r\n                </button>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* {error && <div className=\"error\">{error}</div>} */}\r\n\r\n        {loading ? ( // Display Loader while loading\r\n          <div className=\"flex justify-center w-full\">\r\n            <Loader />\r\n          </div>\r\n        ) : (\r\n          audioSrc && (\r\n            <div className=\"flex items-center justify-center w-[100%] py-8\">\r\n              <audio\r\n                className=\"w-[40%]\"\r\n                controls src={audioSrc} />\r\n            </div>\r\n          )\r\n        )}\r\n      </article>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default TTM;\r\n\r\n"
        }
    ]
}